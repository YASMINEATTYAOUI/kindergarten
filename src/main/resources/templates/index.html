<!DOCTYPE html>
<html lang="en" xmlns="http://www.thymeleaf.org">

<head th:replace="/fragments/head.html :: head">
</head>

<body>


  <!-- ======= Top Bar ======= -->
  <section th:replace="/fragments/topbar.html :: topbar">
  </section>

  <!-- ======= Header ======= -->
  <header th:replace="/fragments/header.html :: header">
  </header><!-- End Header -->

  <!-- ======= Hero Section ======= -->
  <section id="hero">
    <div class="hero-container">
      <div id="heroCarousel" data-bs-interval="5000" class="carousel slide carousel-fade" data-bs-ride="carousel">

        <ol class="carousel-indicators" id="hero-carousel-indicators"></ol>

        <div class="carousel-inner" role="listbox">

          <!-- Slide 1 -->
          <div class="carousel-item active" style="background-image: url(assets/img/bg_1.jpg);">
            <div class="carousel-container">
              <div class="carousel-content">
                <h2 class="animate__animated animate__fadeInDown"><span>Happy</span> Kiddos</h2>
                <h3 style="color:white;"class="animate__animated animate__fadeInUp">Kids Are The Best Explorers In The World.</h3>
                <div th:if="${currentuser == null}">
                  <br>
                  <br>
                  <a th:href="@{/login}" class="btn-menu animate__animated animate__fadeInUp scrollto">Login</a>
                  <a th:href="@{/register}" class="btn-book animate__animated animate__fadeInUp scrollto">Register</a>
                </div>
              </div>
            </div>
          </div>

          <!-- Slide 2 -->
          <div class="carousel-item" style="background-image: url(/assets/img/bg_3.jpg);">
            <div class="carousel-container">
              <div class="carousel-content">
                <h2 class="animate__animated animate__fadeInDown">Find The Best Place For Your Child.</h2>
                <div th:if="${currentuser == null}">
                  <br>
                  <br>
                  <a th:href="@{/login}" class="btn-menu animate__animated animate__fadeInUp scrollto">Login</a>
                  <a th:href="@{/register}" class="btn-book animate__animated animate__fadeInUp scrollto">Register</a>
                </div>
              </div>
            </div>
          </div>

        </div>

        <a class="carousel-control-prev" href="#heroCarousel" role="button" data-bs-slide="prev">
          <span class="carousel-control-prev-icon bi bi-chevron-left" aria-hidden="true"></span>
        </a>

        <a class="carousel-control-next" href="#heroCarousel" role="button" data-bs-slide="next">
          <span class="carousel-control-next-icon bi bi-chevron-right" aria-hidden="true"></span>
        </a>

      </div>
    </div>
  </section><!-- End Hero -->

  <main id="main">
  


    <!-- ======= Whu Us Section ======= -->
    <section id="kinder" class="why-us">
        <div class="container">
  
          <div class="section-title">
            <h2>KinderGartens Registered<span> In Our Plateform</span></h2>
            <p>You can register your child in any KiderGarten listed below</p>
          </div>


       <!--  <div class="row"> -->
        <table class="table">
            <th:block th:each="kgwithphotos,iter : ${listKGwithPhotos}">
              <!-- <div class="col-lg-3"> -->
                <th:block th:if="${iter.index % 3 == 0}"> 
                <tr>
                </th:block>
                  <td style="width:340px;">

                    <div class="box" style="width:340px;height:340px;">
                        <table>
                          <tr>
                        <th:block th:each="photo : ${kgwithphotos.photos}">
                          <td>
                            <div class="col-lg-8 col-md-10">
                                <div class="gallery-item">
                                    <a href="#" class="gallery-lightbox">
                                        <img class="img-fluid rounded-circle" th:id="${'img_' + iter.index}" style="width:130px;" th:src="${'data:image/' + photo.type + ';charset=utf-8;base64,' + photo.dataB64}" alt="" onMouseOver="document.getElementById('display'+this.id).src=this.src;" onMouseOut="document.getElementById('display'+this.id).src='';">
                                    </a>
                                </div>
                            </div>
                          </td>
                        </th:block>
                      </tr>
                    </table>
                    <table>
                      <tr>
                        <td>
                        <h6><b>KinderGarten [[${kgwithphotos.nom}]]<b></h6>
                
                        <p style="font-size:13px;">Address: [[${kgwithphotos.adresse}]]</p>
                        </td>
                        <td>
                          <a th:href="@{'/parent/children/register/' + ${kgwithphotos.id}}" class="btn btn-light"><span style="font-size:13px;color:darkblue;"><b>Register Your Child</b></span></a>
                        </td>
                      </tr>
                    </table>
                         <table><tr><td>
                        <h6>Director: [[${kgwithphotos.directorfirstname}]] [[${kgwithphotos.directorlastname}]] </h6>
                         </td><td>
                        <span style="font-size:13px;"><i class="bi bi-phone">[[${kgwithphotos.tel}]]</i></span>
                         </td></tr></table>
                         <div style="width:100%;text-align:center">
                        <img width="230px;" src="" th:id="${'displayimg_' + iter.index}"/>
                         </div>
                      </div>

                  </td>
                  <th:block th:if="${iter.index == iter.size AND iter.size % 3 == 1}">
                     <td style="width:340px;">&nbsp;</td><td style="width:340px;">&nbsp;</td> 
                  </th:block>
                  <th:block th:if="${iter.index == iter.size AND iter.size % 3 == 2}">
                     <td style="width:340px;">&nbsp;</td>
                 </th:block>
                <th:block th:if="${iter.index % 3 == 2 OR iter.index == iter.size}"> 
                </tr>
               </th:block>                 
               <!-- </div> -->
           </th:block>
          </table>
  
         <!-- </div> -->
  
        </div>
      </section>
      <!-- End Whu Us Section -->
  
      
  </main>
  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>
<div th:replace="/fragments/script.html :: script"></div>

</body>

</html>